<div class="table-container">
    <ng-container
        *ngIf="
            availableInventory && availableInventory.length > 0;
            else emptyState
        "
    >
        <p-table
            [value]="availableInventory"
            styleClass="available-inventory-table"
            [scrollable]="true"
            [tableStyle]="{ width: '100%' }"
            dataKey="bookingId"
            [rows]="50"
            [rowsPerPageOptions]="[50, 100, 200]"
            [paginator]="true"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        >
            <ng-template pTemplate="header">
                <tr>
                    <th alignFrozen="left" pFrozenColumn>
                        <p-checkbox
                            [binary]="true"
                            (onChange)="onSelectAllChange()"
                            [(ngModel)]="selectAll"
                        ></p-checkbox>
                    </th>
                    <th>Ship</th>
                    <th>Port</th>
                    <th>Tour</th>
                    <th>Date</th>
                    <th>Capacity</th>
                    <th>Time</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
                <tr>
                    <td>
                        <p-checkbox
                            [value]="item.unallocatedTourInventoryID"
                            (onChange)="onCheckboxChange()"
                            [(ngModel)]="selectedInventoryItems"
                        ></p-checkbox>
                    </td>
                    <td>
                        {{ item.shipCompanyName }}
                    </td>
                    <td>{{ item.portName }}</td>
                    <td>{{ item.tourName }}</td>
                    <td>
                        {{
                            item.unallocatedTourInventoryDate
                                | date : 'MM/dd/yyyy'
                        }}
                    </td>
                    <td>{{ item.unallocatedTourInventoryAllocatedSeats }}</td>
                    <td>
                        {{ item.unallocatedTourInventoryTimeString }}
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </ng-container>
    <ng-template #emptyState>
        <div class="empty-state-container">
            <h3>No Available Inventory</h3>
            <span>Try a different search</span>
        </div>
    </ng-template>
</div>
