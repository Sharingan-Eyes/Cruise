<div class="content-container">
    <div class="content-header-container">
        <input
            type="text"
            autocomplete="off"
            pInputText
            placeholder="Search ..."
            [(ngModel)]="keyword"
            (ngModelChange)="search()"
        />
        <button pButton class="btn btn-primary" (click)="openAddNewPayRate()">
            <i class="pi pi-plus"></i>
            Add New Pay Rate
        </button>
    </div>
    <ng-container *ngIf="payRateList">
        <div class="table-container">
            <p-table
                #payRatesTable
                [value]="payRateList || []"
                [scrollable]="true"
                [tableStyle]="{ width: '100%' }"
                [rows]="10"
                [rowsPerPageOptions]="[10, 20, 50]"
                [paginator]="true"
                [showCurrentPageReport]="true"
                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                [globalFilterFields]="[
                    'payrateYear',
                    'payRateAmount',
                    'maxPayRateAmount'
                ]"
            >
                <ng-template pTemplate="header">
                    <tr>
                        <th>Year</th>
                        <th>Base Pay Rate ($)</th>
                        <th>Max Pay Rate ($)</th>
                        <th alignFrozen="right" pFrozenColumn>Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-item>
                    <tr>
                        <td>{{ item.payrateYear }}</td>
                        <td>{{ item.payRateAmount }} {{ item.payType }}</td>
                        <td>
                            {{ item.maxPayRateAmount }} {{ item.maxPayType }}
                        </td>
                        <td alignFrozen="right" pFrozenColumn>
                            <div class="actions-container">
                                <button
                                    pButton
                                    icon="pi pi-pencil"
                                    class="p-button-text edit"
                                    pTooltip="View Details"
                                    tooltipPosition="left"
                                    (click)="openEditPayRateModal(item)"
                                ></button>
                                <button
                                    pButton
                                    icon="pi pi-trash"
                                    class="p-button-text delete"
                                    pTooltip="Delete"
                                    tooltipPosition="left"
                                    (click)="openRemovePayRateModal(item)"
                                ></button>
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </ng-container>
</div>
<!-- modals -->
<app-add-new-pay-rate-modal></app-add-new-pay-rate-modal>
<app-edit-pay-rate-modal></app-edit-pay-rate-modal>
<app-remove-pay-rate-modal></app-remove-pay-rate-modal>
