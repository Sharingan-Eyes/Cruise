<ng-container
    *ngIf="{
        isOpen: (isOpen$ | async) || false,
        status: status$ | async,
        positionDetail: positionDetail$ | async,
    } as data"
>
    <ng-container *ngIf="data.positionDetail">
        <p-dialog
            [(visible)]="data.isOpen"
            (onHide)="close()"
            [modal]="true"
            [style]="{ width: '60vw', height: 'auto' }"
            styleClass="post-job-modal"
            [breakpoints]="{ '768px': '95vw' }"
            [showHeader]="false"
            [draggable]="false"
            [resizable]="false"
            [dismissableMask]="true"
            appendTo="body"
        >
            <div class="modal-confirmation-container">
                <h2>Would you like to post this job posting?</h2>
                <p-divider></p-divider>
                <div class="row-container">
                    <div class="col-container">
                        <span class="h4">Department Name</span>
                        <span>
                            {{ data.positionDetail.departmentName }}
                        </span>
                    </div>
                    <p-divider layout="vertical"></p-divider>
                    <div class="col-container">
                        <span class="h4">Department Name</span>
                        <span>
                            {{ data.positionDetail.positionName }}
                        </span>
                    </div>
                    <p-divider layout="vertical"></p-divider>
                    <div class="col-container">
                        <span class="h4">Is Manager</span>
                        <span>
                            {{ data.positionDetail.isManager }}
                        </span>
                    </div>
                </div>
                <div class="button-container">
                    <ng-container *ngIf="data.status === 'error'">
                        <span class="text-error"
                            >Unable to delete Cruise Line</span
                        >
                    </ng-container>
                    <button
                        pButton
                        class="btn btn-primary-inverse"
                        [disabled]="data.status === 'loading'"
                        (click)="close()"
                    >
                        Cancel
                    </button>
                    <button
                        pButton
                        class="btn btn-primary"
                        [disabled]="data.status === 'loading'"
                        [loading]="data.status === 'loading'"
                        (click)="post(data.positionDetail.positionId)"
                    >
                        Post Job
                    </button>
                </div>
            </div>
        </p-dialog>
    </ng-container>
</ng-container>
